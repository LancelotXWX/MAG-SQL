{"idx": 0, "db_id": "california_schools", "query": "What is the highest eligible free rate for K-12 students in the schools in Alameda County?", "evidence": "Eligible free rate for K-12 = `Free Meal Count (K-12)` / `Enrollment (K-12)`", "extracted_schema": {"frpm": ["County Name", "Enrollment (K-12)", "Free Meal Count (K-12)"], "satscores": ["enroll12", "cname"], "schools": ["CDSCode", "County", "City"]}, "ground_truth": "SELECT `Free Meal Count (K-12)` / `Enrollment (K-12)` FROM frpm WHERE `County Name` = 'Alameda' ORDER BY (CAST(`Free Meal Count (K-12)` AS REAL) / `Enrollment (K-12)`) DESC LIMIT 1", "difficulty": "simple", "matched_list": ["frpm.`County Name` = 'Alameda'", "schools.`MailCity` = 'Alameda'", "satscores.`cname` = 'Alameda'", "schools.`County` = 'Alameda'", "schools.`GSoffered` = 'K-12'", "schools.`GSserved` = 'K-12'", "schools.`City` = 'Alameda'"], "complete_desc_str": "# Table: frpm\n[\n  (CDSCode <TEXT>,  CDSCode.),\n  (Academic Year <TEXT>,  Academic Year. Value examples: ['2014-2015'].),\n  (County Code <TEXT>,  County Code. Value examples: ['19', '37', '30', '36', '33', '43'].),\n  (District Code <INTEGER>,  District Code.),\n  (School Code <TEXT>,  School Code. Value examples: ['0000000', '9010745', '6121081', '6121073', '6121016', '6120968'].),\n  (County Name <TEXT>,  County Name. Value examples: ['Los Angeles', 'San Diego', 'Orange', 'San Bernardino', 'Riverside', 'Santa Clara'].),\n  (District Name <TEXT>,  District Name.),\n  (School Name <TEXT>,  School Name.),\n  (District Type <TEXT>,  District Type. Value examples: ['Unified School District', 'Elementary School District', 'High School District', 'County Office of Education (COE)', 'State Board of Education', 'Statewide Benefit Charter'].),\n  (School Type <TEXT>,  School Type. Value examples: [None, 'Elementary Schools (Public)', 'High Schools (Public)', 'Intermediate/Middle Schools (Public)', 'Continuation High Schools', 'Alternative Schools of Choice', 'K-12 Schools (Public)'].),\n  (Educational Option Type <TEXT>,  Educational Option Type. Value examples: [None, 'Traditional', 'Continuation School', 'Alternative School of Choice', 'Community Day School', 'Special Education School', 'County Community School'].),\n  (NSLP Provision Status <TEXT>,  NSLP Provision Status. Value examples: [None, 'Provision 2', 'Breakfast Provision 2', 'CEP', 'Multiple Provision Types', 'Provision 1', 'Lunch Provision 2'].),\n  (Charter School (Y/N) <INTEGER>,  Charter School (Y/N). Value examples: [None, 0, 1].),\n  (Charter School Number <TEXT>,  Charter School Number. Value examples: [None, '00D2', '0756', '00D4', '00D1', '1700', '1696'].),\n  (Charter Funding Type <TEXT>,  Charter Funding Type. Value examples: [None, 'Directly funded', 'Locally funded', 'Not in CS funding model'].),\n  (IRC <INTEGER>,  IRC. Value examples: [None, 0, 1].),\n  (Low Grade <TEXT>,  Low Grade. Value examples: ['K', '9', '6', '7', 'P', '5'].),\n  (High Grade <TEXT>,  High Grade. Value examples: ['12', '5', '8', '6', '3', '4'].),\n  (Enrollment (K-12) <REAL>,  Enrollment (K-12).),\n  (Free Meal Count (K-12) <REAL>,  Free Meal Count (K-12).),\n  (Percent (%) Eligible Free (K-12) <REAL>,  Percent (%) Eligible Free (K-12).),\n  (FRPM Count (K-12) <REAL>,  Free or Reduced Price Meal Count (K-12).),\n  (Percent (%) Eligible FRPM (K-12) <REAL>,  Percent (%) Eligible FRPM (K-12).),\n  (Enrollment (Ages 5-17) <REAL>,  Enrollment (Ages 5-17).),\n  (Free Meal Count (Ages 5-17) <REAL>,  Free Meal Count (Ages 5-17).),\n  (Percent (%) Eligible Free (Ages 5-17) <REAL>,  Percent (%) Eligible Free (Ages 5-17).),\n  (FRPM Count (Ages 5-17) <REAL>,  FRPM Count (Ages 5-17).),\n  (Percent (%) Eligible FRPM (Ages 5-17) <REAL>,  Percent (%) Eligible FRPM (Ages 5-17).),\n  (2013-14 CALPADS Fall 1 Certification Status <INTEGER>,  2013-14 CALPADS Fall 1 Certification Status. Value examples: [1].)\n]\n# Table: satscores\n[\n  (cds <TEXT>,  California Department Schools.),\n  (rtype <TEXT>,  rtype. Value examples: ['S', 'D'].),\n  (sname <TEXT>,  school name. Value examples: [None, 'Middle College High', 'John F. Kennedy High', 'Independence High', 'Foothill High', 'Washington High', 'Redwood High'].),\n  (dname <TEXT>,  district segment. Value examples: ['Los Angeles Unified', 'San Diego Unified', 'Oakland Unified', 'San Francisco Unified', 'Kern High', 'East Side Union High'].),\n  (cname <TEXT>,  county name. Value examples: ['Los Angeles', 'San Diego', 'San Bernardino', 'Riverside', 'Orange', 'Alameda'].),\n  (enroll12 <INTEGER>,  enrollment (1st-12nd grade).),\n  (NumTstTakr <INTEGER>,  Number of Test Takers in this school.),\n  (AvgScrRead <INTEGER>,  average scores in Reading.),\n  (AvgScrMath <INTEGER>,  average scores in Math.),\n  (AvgScrWrite <INTEGER>,  average scores in writing.),\n  (NumGE1500 <INTEGER>,  Number of Test Takers Whose Total SAT Scores Are Greater or Equal to 1500.)\n]\n# Table: schools\n[\n  (CDSCode <TEXT>,  CDSCode.),\n  (NCESDist <TEXT>,  This field represents the 7-digit National Center for Educational Statistics (NCES) school district identification number. The first 2 digits identify the state and the last 5 digits identify the school district. Combined, they make a unique 7-digit ID for each school district.. Value examples: [None, '0622710', '0634320', '0628050', '0634410', '0614550', '0633840'].),\n  (NCESSchool <TEXT>,  This field represents the 5-digit NCES school identification number. The NCESSchool combined with the NCESDist form a unique 12-digit ID for each school.. Value examples: [None, '12271', '13785', '13747', '12909', '12311', '12003'].),\n  (StatusType <TEXT>,  This field identifies the status of the district.. Value examples: ['Active', 'Closed', 'Merged', 'Pending'].),\n  (County <TEXT>,  County name. Value examples: ['Los Angeles', 'San Diego', 'Orange', 'San Bernardino', 'Santa Clara', 'Alameda'].),\n  (District <TEXT>,  District.),\n  (School <TEXT>,  School.),\n  (Street <TEXT>,  Street.),\n  (StreetAbr <TEXT>,  The abbreviated street address of the school, district, or administrative authority’s physical location..),\n  (City <TEXT>,  City. Value examples: [None, 'Los Angeles', 'San Diego', 'San Jose', 'Sacramento', 'Fresno', 'Oakland'].),\n  (Zip <TEXT>,  Zip. Value examples: [None, '91723', '95959', '94558', '92345', '90278', '90266'].),\n  (State <TEXT>,  State. Value examples: [None, 'CA'].),\n  (MailStreet <TEXT>,  MailStreet.),\n  (MailStrAbr <TEXT>,  mailing street address.),\n  (MailCity <TEXT>,  mailing city. Value examples: [None, 'Los Angeles', 'San Diego', 'San Jose', 'Sacramento', 'Oakland', 'Fresno'].),\n  (MailZip <TEXT>,  mailing zip. Value examples: [None, '94606', '91710-4130', '92626-4300', '90266', '95336-0032', '92084'].),\n  (MailState <TEXT>,  mailing state. Value examples: [None, 'CA'].),\n  (Phone <TEXT>,  Phone. Value examples: [None, '(805) 581-0202', '(619) 243-5014', '(562) 698-8121', '(559) 683-4667', '(650) 329-2800', '(530) 625-5600'].),\n  (Ext <TEXT>,  The phone number extension of the school, district, or administrative authority.. Value examples: [None, '200', '201', '111', '352', '221', '203'].),\n  (Website <TEXT>,  The website address of the school, district, or administrative authority..),\n  (OpenDate <DATE>,  The date the school opened.. Value examples: [None, '1980-07-01'].),\n  (ClosedDate <DATE>,  The date the school closed.. Value examples: [None, '1989-06-30'].),\n  (Charter <INTEGER>,  This field identifies a charter school.. Value examples: [None, 0, 1].),\n  (CharterNum <TEXT>,  The charter school number,. Value examples: [None, '00D2', '0756', '00D4', '00D1', '1826', '1710'].),\n  (FundingType <TEXT>,  Indicates the charter school funding type. Value examples: [None, 'Directly funded', 'Locally funded', 'Not in CS funding model'].),\n  (DOC <TEXT>,  District Ownership Code. Value examples: ['54', '52', '00', '56', '98', '02'].),\n  (DOCType <TEXT>,  The District Ownership Code Type is the text description of the DOC category.. Value examples: ['Unified School District', 'Elementary School District', 'County Office of Education (COE)', 'High School District', 'Regional Occupation Center/Program (ROC/P)', 'State Board of Education'].),\n  (SOC <TEXT>,  The School Ownership Code is a numeric code used to identify the type of school.. Value examples: [None, '60', '66', '62', '68', '09', '69'].),\n  (SOCType <TEXT>,  The School Ownership Code Type is the text description of the type of school.. Value examples: [None, 'Elementary Schools (Public)', 'High Schools (Public)', 'Intermediate/Middle Schools (Public)', 'Continuation High Schools', 'Special Education Schools (Public)', 'District Community Day Schools'].),\n  (EdOpsCode <TEXT>,  The Education Option Code is a short text description of the type of education offered.. Value examples: [None, 'TRAD', 'CON', 'COMMDAY', 'ALTSOC', 'SPEC', 'COMM'].),\n  (EdOpsName <TEXT>,  Educational Option Name. Value examples: [None, 'Traditional', 'Continuation School', 'Community Day School', 'Alternative School of Choice', 'Special Education School', 'County Community School'].),\n  (EILCode <TEXT>,  The Educational Instruction Level Code is a short text description of the institution's type relative to the grade range served.. Value examples: [None, 'ELEM', 'HS', 'UG', 'INTMIDJR', 'ELEMHIGH', 'A'].),\n  (EILName <TEXT>,  The Educational Instruction Level Name is the long text description of the institution’s type relative to the grade range served.. Value examples: [None, 'Elementary', 'High School', 'Ungraded', 'Intermediate/Middle/Junior High', 'Elementary-High Combination', 'Adult'].),\n  (GSoffered <TEXT>,  The grade span offered is the lowest grade and the highest grade offered or supported by the school, district, or administrative authority. This field might differ from the grade span served as reported in the most recent certified California Longitudinal Pupil Achievement (CALPADS) Fall 1 data collection.. Value examples: [None, 'K-5', '9-12', 'K-6', 'K-8', '6-8', 'K-12'].),\n  (GSserved <TEXT>,  It is the lowest grade and the highest grade of student enrollment as reported in the most recent certified CALPADS Fall 1 data collection. Only K–12 enrollment is reported through CALPADS. This field may differ from the grade span offered.. Value examples: [None, 'K-5', 'K-6', '9-12', 'K-8', '6-8', '7-8'].),\n  (Virtual <TEXT>,  This field identifies the type of virtual instruction offered by the school. Virtual instruction is instruction in which students and teachers are separated by time and/or location, and interaction occurs via computers and/or telecommunications technologies.. Value examples: [None, 'N', 'P', 'F'].),\n  (Magnet <INTEGER>,  This field identifies whether a school is a magnet school and/or provides a magnet program.. Value examples: [None, 0, 1].),\n  (Latitude <REAL>,  The angular distance (expressed in degrees) between the location of the school, district, or administrative authority and the equator measured north to south..),\n  (Longitude <REAL>,  The angular distance (expressed in degrees) between the location of the school, district, or administrative authority and the prime meridian (Greenwich, England) measured from west to east..),\n  (AdmFName1 <TEXT>,  administrator's first name 1. Value examples: [None, 'David', 'Michael', 'John', 'Jennifer', 'Lisa', 'Robert'].),\n  (AdmLName1 <TEXT>,  administrator's last name 1.),\n  (AdmEmail1 <TEXT>,  administrator's email address 1.),\n  (AdmFName2 <TEXT>,  administrator's first name 2. Value examples: [None, 'Steve', 'Delphine', 'Tim', 'Michael', 'Lisa', 'Jeff'].),\n  (AdmLName2 <TEXT>,  administrator's last name 2. Value examples: [None, 'Sherman', 'Jones', 'Wilson', 'Petersen', 'Landry', 'Hambright'].),\n  (AdmEmail2 <TEXT>,  administrator's email address 2.),\n  (AdmFName3 <TEXT>,  administrator's first name 3. Value examples: [None, 'Mark', 'Eric', 'Vickie', 'Tracie', 'Shawn', 'Sarah'].),\n  (AdmLName3 <TEXT>,  administrator's last name 3. Value examples: [None, 'Zerpoli', 'Yount', 'Woodruff', 'Wood', 'Wolk', 'Spotts'].),\n  (AdmEmail3 <TEXT>,  administrator's email address 3.),\n  (LastUpdate <DATE>,  Last Update. Value examples: ['2015-06-18'].)\n]", "summary_str": "# frpm: Data on schools' Free and Reduced Price Meal (FRPM) eligibility and enrollment across various educational options and provisions.\n# satscores: SAT performance metrics for schools including average scores and number of high-scoring test takers.\n# schools: Detailed information about schools, including their addresses, contact details, and administrative data.", "chosen_db_schem_dict": {"frpm": ["CDSCode", "Academic Year", "County Code", "District Code", "School Code", "County Name", "District Name", "School Name", "District Type", "School Type", "Educational Option Type", "NSLP Provision Status", "Charter School (Y/N)", "Charter School Number", "Charter Funding Type", "IRC", "Low Grade", "High Grade", "Enrollment (K-12)", "Free Meal Count (K-12)", "Percent (%) Eligible Free (K-12)", "FRPM Count (K-12)", "Percent (%) Eligible FRPM (K-12)", "Enrollment (Ages 5-17)", "Free Meal Count (Ages 5-17)", "Percent (%) Eligible Free (Ages 5-17)", "FRPM Count (Ages 5-17)", "Percent (%) Eligible FRPM (Ages 5-17)", "2013-14 CALPADS Fall 1 Certification Status"], "satscores": ["cds", "rtype", "sname", "dname", "cname", "enroll12", "NumTstTakr", "AvgScrRead", "AvgScrMath", "AvgScrWrite", "NumGE1500"], "schools": ["CDSCode", "NCESDist", "NCESSchool", "StatusType", "County", "District", "School", "Street", "StreetAbr", "City", "Zip", "State", "MailStreet", "MailStrAbr", "MailCity", "MailZip", "MailState", "Phone", "Ext", "Website", "OpenDate", "ClosedDate", "Charter", "CharterNum", "FundingType", "DOC", "DOCType", "SOC", "SOCType", "EdOpsCode", "EdOpsName", "EILCode", "EILName", "GSoffered", "GSserved", "Virtual", "Magnet", "Latitude", "Longitude", "AdmFName1", "AdmLName1", "AdmEmail1", "AdmFName2", "AdmLName2", "AdmEmail2", "AdmFName3", "AdmLName3", "AdmEmail3", "LastUpdate"]}, "desc_str": "# frpm: [CDSCode (TEXT), , Academic Year (TEXT), , County Code (TEXT), , District Code (INTEGER), , School Code (TEXT), , County Name (TEXT), , District Name (TEXT), , School Name (TEXT), , District Type (TEXT), , School Type (TEXT), , Educational Option Type (TEXT), , NSLP Provision Status (TEXT), , Charter School (Y/N) (INTEGER), , Charter School Number (TEXT), , Charter Funding Type (TEXT), , IRC (INTEGER), , Low Grade (TEXT), , High Grade (TEXT), , Enrollment (K-12) (REAL), , Free Meal Count (K-12) (REAL), , Percent (%) Eligible Free (K-12) (REAL), , FRPM Count (K-12) (REAL), , Percent (%) Eligible FRPM (K-12) (REAL), , Enrollment (Ages 5-17) (REAL), , Free Meal Count (Ages 5-17) (REAL), , Percent (%) Eligible Free (Ages 5-17) (REAL), , FRPM Count (Ages 5-17) (REAL), , Percent (%) Eligible FRPM (Ages 5-17) (REAL), , 2013-14 CALPADS Fall 1 Certification Status (INTEGER), ]\n# satscores: [cds (TEXT), , rtype (TEXT), , sname (TEXT), , dname (TEXT), , cname (TEXT), , enroll12 (INTEGER), , NumTstTakr (INTEGER), , AvgScrRead (INTEGER), , AvgScrMath (INTEGER), , AvgScrWrite (INTEGER), , NumGE1500 (INTEGER), ]\n# schools: [CDSCode (TEXT), , NCESDist (TEXT), , NCESSchool (TEXT), , StatusType (TEXT), , County (TEXT), , District (TEXT), , School (TEXT), , Street (TEXT), , StreetAbr (TEXT), , City (TEXT), , Zip (TEXT), , State (TEXT), , MailStreet (TEXT), , MailStrAbr (TEXT), , MailCity (TEXT), , MailZip (TEXT), , MailState (TEXT), , Phone (TEXT), , Ext (TEXT), , Website (TEXT), , OpenDate (DATE), , ClosedDate (DATE), , Charter (INTEGER), , CharterNum (TEXT), , FundingType (TEXT), , DOC (TEXT), , DOCType (TEXT), , SOC (TEXT), , SOCType (TEXT), , EdOpsCode (TEXT), , EdOpsName (TEXT), , EILCode (TEXT), , EILName (TEXT), , GSoffered (TEXT), , GSserved (TEXT), , Virtual (TEXT), , Magnet (INTEGER), , Latitude (REAL), , Longitude (REAL), , AdmFName1 (TEXT), , AdmLName1 (TEXT), , AdmEmail1 (TEXT), , AdmFName2 (TEXT), , AdmLName2 (TEXT), , AdmEmail2 (TEXT), , AdmFName3 (TEXT), , AdmLName3 (TEXT), , AdmEmail3 (TEXT), , LastUpdate (DATE), ]", "fk_str": "frpm.`CDSCode` = schools.`CDSCode`\nsatscores.`cds` = schools.`CDSCode`", "pk_str": "frpm.`CDSCode` | satscores.`cds` | schools.`CDSCode`", "pruned": true, "match_content_str": "NULL", "columns_details_str": "frpm.`County Name`: The column 'County Name' in Table <frpm> has column descriptions of \"County Name\".  Value examples: ['Los Angeles', 'San Diego', 'Orange', 'San Bernardino', 'Riverside', 'Santa Clara'].\nfrpm.`Enrollment (K-12)`: The column 'Enrollment (K-12)' in Table <frpm> has column descriptions of \"Enrollment (K-12)\". \nfrpm.`Free Meal Count (K-12)`: The column 'Free Meal Count (K-12)' in Table <frpm> has column descriptions of \"Free Meal Count (K-12)\". \nsatscores.`cname`: The column 'cname' in Table <satscores> has column descriptions of \"county name\".  Value examples: ['Los Angeles', 'San Diego', 'San Bernardino', 'Riverside', 'Orange', 'Alameda'].\nsatscores.`enroll12`: The column 'enroll12' in Table <satscores> has column descriptions of \"enrollment (1st-12nd grade)\". \nschools.`CDSCode`: The column 'CDSCode' in Table <schools> has column descriptions of \"CDSCode\". \nschools.`County`: The column 'County' in Table <schools> has column descriptions of \"County name\".  Value examples: ['Los Angeles', 'San Diego', 'Orange', 'San Bernardino', 'Santa Clara', 'Alameda'].\nschools.`City`: The column 'City' in Table <schools> has column descriptions of \"City\".  Value examples: [None, 'Los Angeles', 'San Diego', 'San Jose', 'Sacramento', 'Fresno', 'Oakland'].\n", "subquery_list": ["What is the highest eligible free rate for K-12 students in the schools in Alameda County?"], "initial_state": false, "old_chain_of_thoughts": "To answer the question \"What is the highest eligible free rate for K-12 students in the schools in Alameda County?\", we need to follow these steps:\n\n1. **Identify the relevant columns**: \n   - The eligible free rate for K-12 is calculated using the formula: `Free Meal Count (K-12) / Enrollment (K-12)`.\n   - We need to select the maximum of this calculated value.\n   - We also need to filter the results to only include schools in Alameda County.\n\n2. **Identify the tables involved**: \n   - We will use the `frpm` table to filter by county and to access the `Free Meal Count (K-12)` and `Enrollment (K-12)` columns.\n   - We will also need to join with the `schools` table to ensure we are only considering schools in Alameda County.\n\n3. **Establish the connection between tables**: \n   - The `frpm` table is connected to the `schools` table through the `CDSCode` column.\n\n4. **Construct the SQL query**:\n   - We will calculate the eligible free rate and then find the maximum value for schools in Alameda County.\n\nHere is the SQL query that accomplishes this:\n\n```sql\nSELECT MAX(FRM.`Free Meal Count (K-12)` / FRM.`Enrollment (K-12)`) AS highest_eligible_free_rate\nFROM frpm AS FRM\nJOIN schools AS SCH ON FRM.`CDSCode` = SCH.`CDSCode`\nWHERE FRM.`County Name` = 'Alameda'\n```\n\n### Explanation of the SQL:\n- We are selecting the maximum eligible free rate calculated from the `Free Meal Count (K-12)` divided by `Enrollment (K-12)`.\n- We join the `frpm` table with the `schools` table on the `CDSCode` to ensure we are looking at the correct schools.\n- We filter the results to only include those from Alameda County.\n\nThis SQL query will return the highest eligible free rate for K-12 students in schools located in Alameda County.", "final_sql": "SELECT MAX(FRM.`Free Meal Count (K-12)` / FRM.`Enrollment (K-12)`) AS highest_eligible_free_rate FROM frpm AS FRM JOIN schools AS SCH ON FRM.`CDSCode` = SCH.`CDSCode` WHERE FRM.`County Name` = 'Alameda' ", "fixed": false, "try_times": 1, "pred": "SELECT MAX(FRM.`Free Meal Count (K-12)` / FRM.`Enrollment (K-12)`) AS highest_eligible_free_rate FROM frpm AS FRM JOIN schools AS SCH ON FRM.`CDSCode` = SCH.`CDSCode` WHERE FRM.`County Name` = 'Alameda' "}
